# apiVersion: v1
# kind: Namespace
# metadata:
#   name: "2401205"
# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: learniva-secrets
#   namespace: "2401205"
# type: Opaque
# stringData:
#   mysql-root-password: "Shruti@2003"
#   mysql-user: "2401205_LEARNIVA"
#   mysql-password: "2401205_Shruti"
#   mysql-database: "learniva_db"
#   openrouter-api-key: "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"
# ---
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: mysql-init-scripts
#   namespace: "2401205"
# data:
#   01-init.sql: |
#     CREATE DATABASE IF NOT EXISTS learniva_db;
#     CREATE USER IF NOT EXISTS '2401205_LEARNIVA'@'%' IDENTIFIED BY '2401205_Shruti';
#     GRANT ALL PRIVILEGES ON learniva_db.* TO '2401205_LEARNIVA'@'%';
#     FLUSH PRIVILEGES;
# ---
# apiVersion: v1
# kind: PersistentVolumeClaim
# metadata:
#   name: mysql-pv-claim
#   namespace: "2401205"
# spec:
#   accessModes:
#     - ReadWriteOnce
#   resources:
#     requests:
#       storage: 1Gi
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: mysql-service
#   namespace: "2401205"
# spec:
#   selector:
#     app: mysql
#   ports:
#     - port: 3306
#       targetPort: 3306
#       protocol: TCP
#   type: ClusterIP
# ---
# apiVersion: apps/v1
# kind: Deployment
# metadata:
#   name: mysql
#   namespace: "2401205"
# spec:
#   replicas: 1
#   selector:
#     matchLabels:
#       app: mysql
#   template:
#     metadata:
#       labels:
#         app: mysql
#     spec:
#       containers:
#         - name: mysql
#           image: mysql:8.0
#           imagePullPolicy: IfNotPresent
#           env:
#             - name: MYSQL_ROOT_PASSWORD
#               valueFrom:
#                 secretKeyRef:
#                   name: learniva-secrets
#                   key: mysql-root-password
#             - name: MYSQL_DATABASE
#               valueFrom:
#                 secretKeyRef:
#                   name: learniva-secrets
#                   key: mysql-database
#             - name: MYSQL_USER
#               valueFrom:
#                 secretKeyRef:
#                   name: learniva-secrets
#                   key: mysql-user
#             - name: MYSQL_PASSWORD
#               valueFrom:
#                 secretKeyRef:
#                   name: learniva-secrets
#                   key: mysql-password
#             - name: MYSQL_ROOT_HOST
#               value: "%"
#           ports:
#             - containerPort: 3306
#               name: mysql
#           readinessProbe:
#             exec:
#               command:
#                 - sh
#                 - -c
#                 - "mysqladmin ping -u root -p$MYSQL_ROOT_PASSWORD"
#             initialDelaySeconds: 10
#             periodSeconds: 10
#           livenessProbe:
#             exec:
#               command:
#                 - sh
#                 - -c
#                 - "mysqladmin ping -u root -p$MYSQL_ROOT_PASSWORD"
#             initialDelaySeconds: 30
#             periodSeconds: 20
#           volumeMounts:
#             - name: mysql-initdb
#               mountPath: /docker-entrypoint-initdb.d
#             - name: mysql-data
#               mountPath: /var/lib/mysql
#       volumes:
#         - name: mysql-initdb
#           configMap:
#             name: mysql-init-scripts
#         - name: mysql-data
#           persistentVolumeClaim:
#             claimName: mysql-pv-claim
